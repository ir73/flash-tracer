<?xml version="1.0" encoding="UTF-8"?>
<project name="Vizzy" default="build-vizzy-mac" basedir=".">
    <description>Builds, tests, and runs the project Vizzy.</description>

    <property name="version" value="2.3"/>
    
    <target name="build-vizzy-mac" description="Create OSX App bundle for Vizzy">
        <taskdef name="jarbundler" classname="net.sourceforge.jarbundler.JarBundler"
            classpath="../../../res/mac/jarbundler/jarbundler-2.1.0.jar"/>
        <jarbundler
            bundleid="flash.utils.Vizzy"
            dir=".."
            verbose="true"
            showPlist="false"
            name="${ant.project.name}"
            mainclass="vizzy.controller.VizzyController"
            icon="${ant.project.name}.icns"
            version="${version}"
            stubfile="${basedir}/${ant.project.name}"
            jvmversion="1.5+"
            infostring="Vizzy Flash Tracer, Copyright 2008-2010"
            >
                <jarfileset dir="${basedir}" includes="lib/*.jar"/>
                <jarfileset dir="${basedir}" includes="${ant.project.name}.jar"/>
                <javafileset dir="${basedir}" includes="fp-detect/**"/>
        </jarbundler>

        <delete includeemptydirs="true">
            <fileset dir="." includes="**/**"/>
        </delete>

        <zip basedir=".." destfile="../${ant.project.name}_v${version}.zip"/>
        
    </target>

</project>
